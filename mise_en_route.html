
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Connection à la plateforme &#8212; Documentation IQ-Plateforme-CHP </title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/translations.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Lancement de tâches de calcul sur les serveurs" href="job.html" />
    <link rel="prev" title="Presentation de la plaforme de Calcul Haute Performance" href="description.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="job.html" title="Lancement de tâches de calcul sur les serveurs"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="description.html" title="Presentation de la plaforme de Calcul Haute Performance"
             accesskey="P">précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation IQ-Plateforme-CHP </a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Connection à la plateforme</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="connection-a-la-plateforme">
<h1>Connection à la plateforme<a class="headerlink" href="#connection-a-la-plateforme" title="Lien permanent vers cette rubrique">¶</a></h1>
<section id="installation-d-un-client-ssh-windows-seulement">
<span id="mise-en-route-windows"></span><h2>Installation d’un client SSH (Windows seulement)<a class="headerlink" href="#installation-d-un-client-ssh-windows-seulement" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>La connection à la plateforme CHP se fait au moyen du <a class="reference external" href="https://docs.alliancecan.ca/wiki/SSH/fr">protocole SSH</a>.
Par défault, alors que Linux et MacOS l’intègre nativement, les usagers de Windows doivent installer un client SSH.</p>
<p>Les utilisateurs ont le choix entre:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">Putty</a> (<a class="reference external" href="https://docs.alliancecan.ca/wiki/Connecting_with_PuTTY/fr">Utilisation</a>)</p></li>
<li><p><a class="reference external" href="https://mobaxterm.mobatek.net/">MobaXterm</a> (<a class="reference external" href="https://docs.alliancecan.ca/wiki/Connecting_with_MobaXTerm/fr">Utilisation</a>)</p></li>
<li><p>ou  <a class="reference external" href="https://docs.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux</a></p></li>
</ul>
<p>De manière général, PuTTY et MobaXterm sont assez semblable, mais MobaXterm inclus plus de fonctionnalité.
WSL a l’avantage de virtualiser une machine Linux sur votre installation Windows dont l’environnement est assez semblable à la plateforme CHP.
WSL est cependant plus complexe à installer.</p>
</section>
<section id="connexion">
<h2>Connexion<a class="headerlink" href="#connexion" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Les ressources CHP de l’IQ sont hebergés aux Centre de Calcul Scientifique de l’Université de Sherbrooke, et sont actuellement branchées sur la grappe nationale Mammouth Parallèle 2 (abrégée MP2).
Leur accès requiert un compte Calcul Canada Database (CCDB) ainsi que la signature d’un entente d’utilisation (voir <a class="reference internal" href="description.html#demande-d-acces"><span class="std std-ref">Demande d’accès aux ressources</span></a>).
Une fois l’accès garanti, la connection se fait par SSH via un terminal (MacOS et Linux) ou le client SSH Windows nouvellement installé:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh &lt;nom_utilisateur_CCDB&gt;@mp2.computecanada.ca
</pre></div>
</div>
<p>Les utilisateurs sont ensuite invités à entrer leur mot de passe de la CCDB.
Notez qu’aucuns caractères ne s’affiche à l’écran mais ils sont bel et bien entrés dans le système.
Après connexion, les usagers arrivent sur les noeuds de connexion de MP2.</p>
</section>
<section id="id2">
<h2>Utilisation<a class="headerlink" href="#id2" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>IMPORTANT!
Les noeuds de connexion de la grappe MP2 ont une architecture CPU différente de celle des serveurs de calcul de l’IQ, en plus d’être configuré avec un environnement standard obsolète (<code class="docutils literal notranslate"><span class="pre">nixpkgs/16.09</span></code>).
Ainsi, les noeuds de connexion doivent être utilisés uniquement pour la gestion de l’espace de travail et des fichiers.
Toutes autres tâches, tel que la compilation de logiciel, la création d’environnement virtuel Python, ou le debogage de code doit se fare directement sur les serveurs de l’IQ via une allocation interactive (voir <a class="reference internal" href="job.html#taches-interactives"><span class="std std-ref">Tâches interactives</span></a>).</p>
</section>
<section id="chargement-des-logiciels">
<h2>Chargement des logiciels<a class="headerlink" href="#chargement-des-logiciels" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Par défault, l’environnement de travail après la connexion ne contient aucuns logiciels.
Ceux-ci doivent donc être chargés manuellement sous la forme de module.
De nombreux logiciels sont pré-compilés et disponibles pour utilisation dans la pile logicielle d’Alliance qui est utilisée sur les serveurs de calcul.
Pour rechercher si un logiciel est installé et quelles versions sont disponibles:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module spider &lt;nom_du_logiciel&gt;
</pre></div>
</div>
<p>Pour plus d’information sur une version spécifique et comment charger le module correspondant, il faut ajouter la version du logiciel:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module spider &lt;nom_du_logiciel&gt;/&lt;version&gt;
</pre></div>
</div>
<p>Le chargement du logiciel se fait alors par la commande:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module load &lt;nom_du_logiciel&gt;
</pre></div>
</div>
<p>Parfois, il est nécessaire de charger plusieurs modules avant de pouvoir charger le logiciel voulu.
En effet, certain modules dépendent d’autres modules qui doivent être présents pour assurer leur bon fonctionnement.
Il faut alors consulter la sortie de <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">spider</span> <span class="pre">X</span></code> pour obtenir plus d’informations.
Pour un complément d’informations sur l’utilisation des modules, voir la documentation correspondante sur le site de l’Alliance (<a class="reference external" href="ttps://docs.alliancecan.ca/wiki/Utiliser_des_modules">Utiliser des modules</a>).</p>
<p>Aussi, il se peut que certains logiciels peuvent apparaître comme non disponibles lorsque chargés sur les noeuds de connexion de MP2 (essayer <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">spider</span> <span class="pre">triqs</span></code> par exemple).
Cela est dû à l’architecture différente des les noeuds de connexion de MP2, et pour laquelle ces logiciels n’ont pas été compilés.
Néanmoins, il se peut que ces logiciels soient tout de même disponibles et compilés pour l’architecture des noeuds de calcul de l’IQ.
Ainsi, il est nécessaire de se connecter directement sur les noeuds de l’IQ (via une allocation interactive, <code class="docutils literal notranslate"><span class="pre">salloc</span> <span class="pre">-p</span> <span class="pre">c-iq</span> <span class="pre">-t</span> <span class="pre">01:00:00</span> <span class="pre">--mem</span> <span class="pre">4G</span> <span class="pre">--cpus-per-task=1</span></code>) et de relancer la recherhce pour vérifier que ces logiciels sont bien disponibles.</p>
</section>
<section id="acceder-au-serveur-de-donnees-de-l-iq-et-specificites-reseau">
<h2>Accéder au serveur de données de l’IQ et spécificités réseau<a class="headerlink" href="#acceder-au-serveur-de-donnees-de-l-iq-et-specificites-reseau" title="Lien permanent vers cette rubrique">¶</a></h2>
<p>Le serveur de données de l’IQ d’une capacité de 384 To est accessible sur <code class="docutils literal notranslate"><span class="pre">/net/nfs-iq/data</span></code> (depuis les noeuds de connexion et les serveurs de calcul de l’IQ, MP2 et autre).
Chaque utilisateur possède un espace propre avec son nom d’utilisateur (par exemple, <code class="docutils literal notranslate"><span class="pre">/net/nfs-iq/data/moroub</span></code> pour l’utilisateur <code class="docutils literal notranslate"><span class="pre">moroub</span></code>) et un espace partagée avec son groupe de la même manière que l’espace <code class="docutils literal notranslate"><span class="pre">/project</span></code> sur les grappes nationales.</p>
<p>L’interconnection entre le serveur de données et les serveurs de calcul de l’IQ est 25 fois plus performante que l’interconnection avec <code class="docutils literal notranslate"><span class="pre">/project</span></code> ou <code class="docutils literal notranslate"><span class="pre">/home</span></code> (25 Gbit/s contre 1 Gb/s).
Les usagers sont donc fortement incités à utiliser cette espace de stockage leur étant dédié.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table des matières</a></h3>
    <ul>
<li><a class="reference internal" href="#">Connection à la plateforme</a><ul>
<li><a class="reference internal" href="#installation-d-un-client-ssh-windows-seulement">Installation d’un client SSH (Windows seulement)</a></li>
<li><a class="reference internal" href="#connexion">Connexion</a></li>
<li><a class="reference internal" href="#id2">Utilisation</a></li>
<li><a class="reference internal" href="#chargement-des-logiciels">Chargement des logiciels</a></li>
<li><a class="reference internal" href="#acceder-au-serveur-de-donnees-de-l-iq-et-specificites-reseau">Accéder au serveur de données de l’IQ et spécificités réseau</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="description.html"
                          title="Chapitre précédent">Presentation de la plaforme de Calcul Haute Performance</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="job.html"
                          title="Chapitre suivant">Lancement de tâches de calcul sur les serveurs</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/mise_en_route.rst.txt"
            rel="nofollow">Montrer le code source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="job.html" title="Lancement de tâches de calcul sur les serveurs"
             >suivant</a> |</li>
        <li class="right" >
          <a href="description.html" title="Presentation de la plaforme de Calcul Haute Performance"
             >précédent</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Documentation IQ-Plateforme-CHP </a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Connection à la plateforme</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Moise Rousseau.
      Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>